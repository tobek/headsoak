$mobile: 320px
$tablet-small: 480px
$tablet-large: 768px
$screen-small: 1024px
$screen-large: 1280px
$screen-huge: 1920px

// Sass doesn't yet support multi-line variable declartions <https://github.com/sass/sass/issues/216>
// Details about these settings at <http://susydocs.oddbird.net/en/latest/settings/>
$susy: ( columns: 12, gutters: 1/3, global-box-sizing: border-box/*, debug: (image: show, color: lightblue)*/ )

// Note - below used when trying out a static grid (making math using `gutter()` much easier). Worked out to 1269px instead of 1280px, but then making it responsive was a pain.
// $susy: ( math: static, columns: 12, column-width: 81px, gutters: 1/3, global-box-sizing: border-box, debug: (image: show, color: lightblue) )


html
  box-sizing: border-box
  overflow: hidden // `main` is the element that scrolls

*, *:before, *:after
  box-sizing: inherit


#app-bg
  z-index: -1
  position: fixed
  width: 100%
  height: 100%
  top: 0
  right: 0
  bottom: 0
  left: 0

  background-color: $app-bg-gradient-bottom

  &.default
    background-image: linear-gradient(201deg, $app-bg-gradient-top, $app-bg-gradient-bottom)

  // for background images set by user in settings (@TODO/settings/bg Should be controllabe)
  background-position: center center
  background-repeat: no-repeat
  background-size: cover
  background-attachment: fixed

  // Default background on page load
  background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-800x.jpg')

  @media (min-width: $tablet-large)
    background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-1280.jpg')
  @media (min-width: $screen-large)
    background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-1920x.jpg')
  @media (min-width: $screen-huge)
    background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-huge.jpg')

  // Need to be more generous with retina-ish
  @media only screen and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 120dpi)
    @media (min-width: $tablet-small)
      background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-1280x.jpg')
    @media (min-width: $tablet-large)
      background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-1920x.jpg')
    @media (min-width: $screen-large)
      background-image: url('https://s3.amazonaws.com/static.headsoak.com/img/bg/Hokusai_1760-1849_Ocean_waves-huge.jpg')

// This is our main grid container. gutter() and span() etc. should work as normal in here
main
  position: relative
  z-index: 1

  height: $full-height
  overflow-y: auto

  // This is the container in the app that will scroll, so we'd like to have the scrollbar at the far right. So onstead of grid container with max width and margins on either side and gutter-width padding, here we try to pad it out to the full width of the viewport
  max-width: 100%
  padding-right: calc(50vw - #{$screen-large / 2} + #{gutter()} - 15px) // 15px to give room for scrollbar
  padding-left: calc(50vw - #{$screen-large / 2} + #{gutter()})

  @media (max-width: $screen-large)
    padding-right: calc(#{gutter()} - 5px)
    padding-left: gutter()

.app-wrapper
  opacity: 1
  transition: opacity $transition-slow

  &.uninitialized
    pointer-events: none
    opacity: 0

// This basically creates a version of the grid container but which is fixed. gutter() and span() etc. should work as normal in here.
.fixed-pane-wrapper
  position: fixed
  width: $screen-large
  max-width: 100%
  left: calc(50vw - #{$screen-large / 2})
  padding: 0 gutter()

  @media (max-width: $screen-large)
    left: 0

  // Otherwise the full width pane wrapper blocks scrolling and stuff - but any elements inside it should work normally
  pointer-events: none
  .fixed-pane-contents
    pointer-events: all
  

// This guy is hardcoded/inlined into index.html
.hide-loader .initial-loader.outer
  opacity: 0
  visibility: hidden

.initial-loader.inner
  left: auto
  color: $primary-color
