tag
  +tag-face
  +tag-chiclet

  .tag-actions
    // @TODO/ece What's the tag action flow? must include easy toggle and remove from note
    // @TODO/ece Still need a way to view all tags
    display: none

  &:hover .tag-actions
    display: inline-block

  &.dropdown-enabled .tag-actions
    +menu-dropdown
    display: inline-block
    position: absolute
    top: 5px
    padding: 4px 7px 0 0 // Top padding is magic number to vertically align - couldn't get anything else to work easily here
    width: 40px
    height: calc(100% - 4px) // With box-sizing this shouldn't be necessary but seems like it is? Anyway this is visible on long tags where the tag is longer than the dropdown.
    background-color: $tag-bg
    text-align: right

  .tag-action
    +icon-button
    // @TODO/ece On note tags should this remove X be primary or secondary?

  .name
    display: inline

    &:focus
      display: inline-block // cursor doesn't display properly (in Chrome at least) on inline contenteditable elements
      cursor: text
      outline: 0
      border-bottom: 2px solid $input-stroke
      margin-bottom: -2px

  &.renaming .tag-actions
    display: none

  note-query & .tag-action--remove
    cursor: pointer
    position: absolute
    width: 100%
    height: 100%
    top: 0
    left: 0
    text-align: center
    background-color: $white-overlay
    color: $primary-color

    &:hover
      color: $primary-color

  .tag-actions-dropdown
    // @TODO/bug Dropdown can get hidden off right edgeof the screen (also making horizontal scrollbar appear)
    // @TODO/bug For very long tag names this is SHORTER and looks a bit weird, and for very very long tag names, the box shadow from .tag-actions doesn't go far enough back... looks weird
    +menu-dropdown
    z-index: 1
    position: absolute
    width: 200px
    margin-left: -8px // magic number to align with left edge of tag - we can't do left 0 and position the tag relatively because then we'll run afoul of tag container with overflow hidden
    padding: 10px 15px 10px 10px
    background-color: $tag-bg
    letter-spacing: 1.2px
    font-weight: normal

    .tag-action
      display: block
      padding-bottom: 2px
      text-decoration: none

      &:last-child
        padding-bottom: 0

      .current-state
        float: right
        // was only needed when main action text was bigger:
        // padding-top: 3px
        // font-size: 1rem
        letter-spacing: 1.1px
        text-decoration: underline
