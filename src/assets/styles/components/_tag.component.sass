.tag-like
  +tag-chiclet
  +tag-face

=tag-actions-dropdown
  +menu-dropdown
  // @TODO/ece We should experiment with opacity (here) and with x-offest (everywhere)
  box-shadow: 0 2px 4px 0 $secondary-color
  box-shadow: 2px 2px 4px 0 rgba($secondary-color, 0.5);

tag,
.static-tag // elements for which we don't need all the compononent logic
  +tag-face
  
  &:before
    content: '#'
    opacity: 0.33
    margin-right: 1px

tag
  +tag-chiclet

  &.is--active
    +tag-chiclet-active

  .tag-actions
    // @TODO/ece What's the tag action flow? must include easy toggle and remove from note
    // @TODO/ece Still need a way to view all tags
    display: none

  &:hover .tag-actions
    display: inline-block

  // Hide, because any actions can be shown in the dropdown
  &.dropdown-enabled .tag-actions
    display: none

  &.dropdown-enabled.hovered
    +tag-actions-dropdown
    +tag-face

  .tag-action
    +icon-button
    // @TODO/ece On note tags should this remove X be primary or secondary?

  .name
    display: inline

    &:focus
      display: inline-block // cursor doesn't display properly (in Chrome at least) on inline contenteditable elements
      cursor: text
      outline: 0
      border-bottom: 2px solid $input-stroke
      margin-bottom: -2px

  .tag-value-hover
    display: none
  &:hover .tag-value-hover
    display: inline

  &.renaming .tag-actions
    display: none

  note-query & .tag-action--remove
    cursor: pointer
    position: absolute
    width: 100%
    height: 100%
    top: 0
    left: 0
    text-align: center
    background-color: $white-overlay
    color: $primary-color

    &:hover
      color: $primary-color

  .tag-actions-dropdown
    // @TODO/bug Dropdown can get hidden off right edgeof the screen (also making horizontal scrollbar appear)
    // @TODO/bug For very long tag names this is SHORTER and looks a bit weird, and for very very long tag names, the box shadow from .tag-actions doesn't go far enough back... looks weird

    +tag-actions-dropdown

    z-index: 1
    position: absolute
    width: 200px
    margin-top: 4px // matching bottom padding of tag chiclet
    margin-left: -4px // magic number to align with left edge of tag - we can't do left 0 and position the tag relatively because then we'll run afoul of tag container with overflow hidden
    padding: 5px 0
    // @TODO/styles Border might be good if we could get left border to align with a left border on the tag, and a top border to be clipped by the tag towards the left, but eh
    // border: 1px solid $primary-color-light
    font-weight: normal

    .tag-action
      +menu-link
      display: block

      &:hover
        +menu-link-hover
