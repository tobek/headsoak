<div id="app-bg" class="default"></div>

<header class="app-header">
  <div class="inner">
    <div class="logo">
      <h1><i class="fa fa-circle"></i>{{ name }}</h1>
    </div>

    <note-query [hidden]="! dataService.user.loggedIn"></note-query>

    <div class="menu status--{{ dataService.status }}" [hidden]="! dataService.user.loggedIn">
      &Phi;

      <ul class="menu-body">
        <li>Status: {{ dataService.status }}</li>
        <li><hr></li>
        <li *ngFor="let route of menuNavRoutes" [class.active]="'/' + route.path === router.url">
          <a [routerLink]="[route.path]">{{ route.data.name }}</a>
        </li>

        <li (click)="loginComponent.logout()"><a>Logout</a></li>
      </ul>
    </div>
  </div>
</header>

<login></login>

<nav class="app-nav" *ngIf="dataService.user.loggedIn">
  <a class="new-note" (click)="newNote()">New Note</a>

  <ul>
    <li *ngFor="let route of mainNavRoutes" [class.active]="'/' + route.path === router.url">
      <a [routerLink]="[route.path]">{{ route.data.name }}</a>
    </li>
  </ul>
</nav>

<main [hidden]="! dataService.user.loggedIn">

  <router-outlet></router-outlet>
  <home [hidden]="router.url !== '/' && router.url !== '/focus' && router.url !== '/browse'"></home>
  <tag-browser [hidden]="router.url !== '/tags'"></tag-browser>

</main>
