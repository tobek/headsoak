<!-- e.g. just `/tags` -->
<div *ngIf="router.url.split('/').length < 3">
  <div class="tag-list">
    <div class="tag-query">
      <div class="search-bar">
        <input tabindex=1 type="text" placeholder="Search tags"
          ref-queryInput [(ngModel)]="query"
          (ngModelChange)="queryUpdated()"
        >
        <button class="clear" (click)="queryClear()">x</button>
      </div>

      <div class="controls">
        <label>
          {{ tags.length }} TAG{{ tags.length !== 1 ? 'S' : '' }}
          <select tabindex=3 [ngModel]="sortOpt" (ngModelChange)="sort($event)">
            <option *ngFor="let opt of tagsService.sortOpts" [ngValue]="opt">{{opt.name}}</option>
          </select>
        </label>

        <button class="new" (click)="newTag()">new</button>
      </div>
    </div>

    <tag class="tag tag-{{ tag.id }}"
      *ngFor="let tag of (tags | arrayLimit:limit)"
      [routerLink]="['/tags', tag.id, tag.name]"
      [tagId]="tag.id"
      [showCount]="true"
      (deleted)="tagDeleted($event)"
    ></tag>
  </div>

  <div class="tag-pane"></div>
</div>

<!-- e.g. `/tags/:tagId...` -->
<tag-details
  *ngIf="router.url.split('/').length > 2"
  [tag]="tagsService.tags[router.url.split('/')[2]]"
  (deleted)="tagDeleted($event)"
></tag-details>
